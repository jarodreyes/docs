
#Using Pusher with KONA

## Introduction

<div class="addon_header">
<div class="cli">heroku addons:add pusher</div>
<h1>
<img alt="Original" data-corsurl="https://s3.amazonaws.com/assets.heroku.com/addons.heroku.com/icons/108/original.png?1383868128" id="logo" src="https://s3.amazonaws.com/assets.heroku.com/addons.heroku.com/icons/108/original.png?1383868128">
<a href="/pusher">
Pusher

<span class="price">from $0/mo</span>
</a>
<span class="description">Add realtime WebSocket goodness to your app in minutes!</span>
</h1>
</div>


<ul class="benefits masonry" style="position: relative; height: 279px;">
<li class="last masonry-brick" style="position: absolute; top: 0px; left: 0px;">
<div class="content">
<h3>
<span class="icon custom_color">lighting</span>
<span class="title">
Flexible pub/sub messaging
</span>
</h3>

<p>Pusher makes it easy to push any type of content to browsers and devices in realtime.</p>

</div>
</li>
<li class="masonry-brick" style="position: absolute; top: 0px; left: 480px;">
<div class="content">
<h3>
<span class="icon custom_color">coversation</span>
<span class="title">
Great for building chat, games etc...
</span>
</h3>

<p>Use Pusher as a foundation for your chat feature, multiplayer game or just to update content on a page in realtime.</p>

</div>
</li>
<li class="masonry-brick" style="position: absolute; top: 99px; left: 0px;">
<div class="content">
<h3>
<span class="icon custom_color">clock</span>
<span class="title">
Integrate in minutes
</span>
</h3>

<p>Libraries for all popular languages and frameworks makes integration easy.</p>

</div>
</li>
<li class="last masonry-brick" style="position: absolute; top: 99px; left: 480px;">
<div class="content">
<h3>
<span class="icon custom_color">iphone</span>
<span class="title">
Supports all browsers and devices
</span>
</h3>

<p>Clients can receive realtime message in any browser, mobile device or even mobile app.</p>

</div>
</li>
<li class="masonry-brick" style="position: absolute; top: 180px; left: 0px;">
<div class="content">
<h3>
<span class="icon custom_color">shieldfilled</span>
<span class="title">
Proven security
</span>
</h3>

<p>Create secure channels with our proven authorization system and secure message content with SSL support.</p>

</div>
</li>
<li class="masonry-brick" style="position: absolute; top: 198px; left: 480px;">
<div class="content">
<h3>
<span class="icon custom_color">linegraph</span>
<span class="title">
Stats &amp; reporting
</span>
</h3>

<p>Comprehensive statistics and reports on usage available in your dashboard.</p>

</div>
</li>
</ul>

read more at http://pusher.com


## Using example

![alt tag](http://i.imgur.com/ohxuXLQ.gif)


First create your pusher account and create your first app, then just get the following information

App Credentials
```
app_id = '95321'
```

Access Tokens
```
key = '82b131e4732e2dfd5a96'
secret = '3120e50d85b29edbd842'
```

and for testing purpose copy the html autogenerated, similar to this
```html
<!DOCTYPE html>
<head>
  <title>Pusher Test</title>
  <script src="//js.pusher.com/2.2/pusher.min.js" type="text/javascript"></script>
  <script type="text/javascript">
    // Enable pusher logging - don't include this in production
    Pusher.log = function(message) {
      if (window.console && window.console.log) {
        window.console.log(message);
      }
    };

    var pusher = new Pusher('82b131e4732e2dfd5a96');
    var channel = pusher.subscribe('test_channel');
    channel.bind('my_event', function(data) {
      alert(data.message);
    });
  </script>
</head>
```

Inside KONA Cloud, create your connector, go to services and create new pusher connector

![alt tag](http://i.imgur.com/JDOVHBd.png)

Copy the code autogenerated and go to the 'Code' page and test it.

```js
var test = function(){
    
    //open 
    var pusher = kona.pusher.open('pusher2'); 
    
    var data = { message: 'hi from kona'};
    //send the data
    pusher.send('my_event','test_channel',data);

};
```

You can try pusher with this appId and secrets, only for testing (it's a free account)


